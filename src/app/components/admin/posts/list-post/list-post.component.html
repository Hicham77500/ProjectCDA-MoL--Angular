
<div class="container border">

    <br>
    <H1 class="text-center">Liste des Posts</H1>
    <div class="mb-3 float-left">
        <a href="/admin/addPost" class="btn btn-success" data-toggle="modal" >
            <i class="fa fa-plus">Ajouter un Post</i>
          </a>
    </div>
    
    <div class="mb-3 float-right">
        <div class="btn-group mr-2">
  
          <form #searchForm="ngForm" class="form-inline my-2 my-lg-0 justify-content-center">
            <!-- On appelle la fonction search  -->
            <input name="searchTerm" class="form-control mr-sm-2" ngModel
              (ngModelChange)="searchPosts(searchForm.value.searchTerm)" type="search" placeholder="Rechercher un post">
            </form>
           
        </div>
        <div class="btn-group">
          <button type="button" (click)="getPosts()" class="btn btn-info">
            <i *ngIf="refreshing" class="fas fa-sync fa-spin"></i><i *ngIf="!refreshing" class="fas fa-sync"></i>
          </button>
  
        </div>
  
      </div>
    <br>
    <table id="table_id" class="table ">
        <thead>
            <tr>
                <th scope="col">Id</th>
                <th scope="col">idUser</th>
                <th scope="col">Photo</th>
                <th scope="col">Date de publication</th>
                <th scope="col">ACTION</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let post of posts" >
                <th scope="row"> {{post.idPost}}</th>
                <td scope="row">{{post.idUser}}</td>
                <td scope="row" ><img class="rounded-circle img-fluid img-thumbnail" height="40" width="40"
                  src="{{urlPict+post.postImageUrl}}" alt=""></td>
                <td scope="row">{{post.date|date }}</td>

                <td>
                  <div class="btn-group">
                    <a routerLink="/admin/editPost/{{post.idPost}}"
                    class="btn btn-warning waves-effect waves-light btn right #e65100 green"><i class="fas fa-edit"></i>
                  </a>
                    <button class="btn btn-outline-danger" (click)="onDeletePost(post.idPost)">
                      <i class="fas fa-trash"></i>
                    </button>
                  </div>
                </td>
            </tr>
        </tbody>

    </table>
</div>